<!DOCTYPE html>
<html style="margin: 0; padding: 0">
<head>
    <title>Тестовый шаблон JSON формы</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <link href="http://twitter.github.com/bootstrap/assets/css/bootstrap.css" rel="stylesheet">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
    <script src="/web-client/structures.js" type="text/javascript"></script>
    <script type="text/javascript">
        function getOepJson() {
            return jsonField;
        }

        // API для внешнего вызова
        function getOepJsonString() {
            if (!jsonField.firstName || !jsonField.lastName)
                return null;
            if (jsonField.firstName == 'crash') {
                some.nothing = 'crashHere!';
            }
            if (jsonField.firstName == 'big') {
                return JSON.stringify(structures, null, 1);
            }
            return JSON.stringify(jsonField, null, 1);
        }

        $(function () {
            $("#anchor").html('Скажите, как его зовут!');
            $("#anchor").after("Фиамилия: <input id='lastName' type='text' value='" + jsonField.lastName + "'/><br/>");
            $("#anchor").after("Имя: <input id='firstName' type='text' value='" + jsonField.firstName + "'/><br/>");
            $("input[type='text']").change(function () {
                var val = $("#firstName").val();
                jsonField.firstName = !val ? '' : val.trim();
                val = $("#lastName").val();
                jsonField.lastName = !val ? '' : val.trim();
            });
        });
        // место внедрения JSON
        var jsonField = '#jsonField#';
    </script>
</head>
<body style="padding: 0; margin: 0">
<h1 id="anchor">Название формы</h1>

<div style="
width: 100%;
height: 600px;
border: 1px dashed cornflowerblue;
text-align: center;
vertical-align: middle;
display:table-cell
">
    Некий большой блок информации для проверки области прокрутки.
</div>
</body>
</html>
